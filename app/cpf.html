<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width">
    <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
    <!-- build:css(.) styles/vendor.css -->
    <!-- bower:css -->
    <!-- endbower -->
    <!-- endbuild -->
    <!-- build:css(.tmp) styles/main.css -->
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="bootstrap/css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="bootstrap/css/bootstrap.min.css">
      
    <!-- endbuild -->
  </head>
  <body ng-app="projetoOiApp">
    <!--[if lte IE 8]>
      <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]-->
    
    <div class="container-fluid">
        <div class="row">
            <form name="formcpf">
                
                <!-- side bar -->
                <div class="col-xs-12 col-md-12 col-lg-4 sidebar">
                    <!-- oi logo -->
                    <div class="col-xs-6 col-sm-12 col-md-12">
                        <img class="img-mask" src="svg/oi_logo.svg" />
                    </div>
                    <div class="col-xs-6 col-sm-12 col-md-12">
                        <div class="sidebar_text in-cpf-page-text">
                            DIGITE O CPF
                        </div>
                    </div>
                </div>

                <!-- content -->
                <div class="col-xs-12 col-md-12 col-lg-8">
                    <!-- cpf -->
                    <div class="col-sm-12 col-md-12 item-row-cpf">
                        <input id="cpf" class="password vertical-align-items" 
                               placeholder="CPF" type="text" name="cpf" onBlur="ValidarCPF(formcpf.cpf);" 
                               onKeyPress="MascaraCPF(formcpf.cpf);" maxlength="14" />
                        
                        <!-- placeholder after -->
                        <div class="cpf-after">
                            CPF
                        </div>
                        
                    </div>
                    
                    
                    <!-- footer button -->
                    <div class="col-xs-12 col-md-12 item-row-cpf item-last">
                        <div class="col-xs-10  col-md-10 col-lg-11 vertical-align-items inline">
                            <input class="btn-continue item-last vertical-align-items" type="button" value="Entrar"/>
                            
                            <!-- loading with message -->
                            <div class="loading-container">
                                <img class="loading" src="svg/loading.svg"/>
                            </div>
                            <div class="know-cpf">
                                Reconhecendo CPF
                            </div>
                            
                            <!-- sucess message -->
                            <div class="sucess_cpf">
                                <img class="sucess_img" src="svg/ok.svg"/>
                                <div class="sucess_text">
                                    Tudo certo!
                                </div>
                            </div>
                            
                            <!-- error message -->
                            <div class="error_cpf">
                                <img class="error_img" src="svg/fail.svg"/>
                                <div class="error_text">
                                    Mensagem de erro
                                    <br>em duas linhas
                                </div>
                            </div>
                            
                        </div>
                        <div class="col-xs-2 col-md-2 col-lg-1 vertical-align-items inline">
                            <div class="img-container">
                                <img class="arrow-continue" src="svg/next.svg"/>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    
    </div>


    

    <!-- build:js(.) scripts/vendor.js -->
    <!-- bower:js -->
    <!-- endbower -->
    <!-- endbuild -->

    <script src="js/jquery-3.1.1.min.js"></script>
    <script src="js/validation.js"></script>
    <script src="bootstrap/js/bootstrap.min.js"></script>
    <!-- build:js({.tmp,app}) scripts/scripts.js -->
    <!-- script src="scripts/app.js"></script>
    <script src="scripts/controllers/main.js"></script>
    <script src="scripts/controllers/about.js"></script -->
    <script>
        $(document).ready(function(){
            
            $(".cpf-after").hide();
            $('.loading').hide();
            $('.know-cpf').hide();
            $('.sucess_cpf').hide();
            $('.error_cpf').hide();
            
            $("#cpf").tooltip({
                'trigger':'click' ,
                'placement' : 'bottom',
                'target' : '#password',
                'title' : "Digite o CPF do titular da conta. Apenas nÃºmeros."
            })
            
            $("#cpf").click(function(event){
                $('.tooltip').ready(function(){
                    var top = $('#cpf').position().top
                    var left = $('#cpf').position().left
                    var height = $('#cpf').height()

                    $('.tooltip').css('top', (top + height/2 + parseInt($('.tooltip').css('height'))/2) + "px")
                    $('.tooltip').css('left', 87 + "px")
                })
            })
            
            $('#cpf').on('input',function(event){
                console.dir(event);
                if(event && event.target && event.target.value){
                   if(event.target.value.length > 0){
                       $('.cpf-after').show();
                       
                       if(event.target.value.length >= 14){
                           $('.arrow-continue').attr('src' , 'svg/next_active.svg');
                           $('.btn-continue').css('color' , '#e03d6f');
                       } else {
                           $('.arrow-continue').attr('src' , 'svg/next.svg');
                           $('.btn-continue').css('color' , '#cccccc');
                       }
                       
                   } else {
                       $('.cpf-after').hide();
                       $('.arrow-continue').attr('src' , 'svg/next.svg');
                       $('.btn-continue').css('color' , '#cccccc');
                   }
                } else {
                    $('.cpf-after').hide();
                    $('.arrow-continue').attr('src' , 'svg/next.svg');
                    $('.btn-continue').css('color' , '#cccccc');
                }
            });
            
            function AnimateRotate(angle , time, el , callback){
                var elem = $(el);
                
                var empty = function(){}
                
                //callback =  callback ? callback : empty

                $({deg: 0}).animate({deg: angle}, {
                    duration: time,
                    step: function(now){
                        elem.css({
                             transform: "rotate(" + now + "deg)"
                        });
                    },
                    done : callback //when animation ends
                });
            }
            
            function callback(){
                //console.log('loading done');
                $('.loading').hide();
                $('.know-cpf').hide();
                $('.sucess_cpf').show();
                $('.error_cpf').hide();
                setTimeout(function(){
                    $('.sucess_cpf').hide();
                    $('.error_cpf').show();
                },1000);
            }

            
            $(".item-last").click(function(){
                //window.location.replace("cpf.html");
                //alert("clicked");
                $('.btn-continue').hide();
                $('.loading').show();
                $('.know-cpf').show();
                AnimateRotate(1080 , 2000 , ".loading-container" , callback);
            })
        })  
    </script>
    <!-- endbuild -->
</body>
</html>
