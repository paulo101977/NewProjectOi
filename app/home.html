<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width">
      <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
    <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
    <!-- build:css(.) styles/vendor.css -->
    <!-- bower:css -->
    <!-- endbower -->
    <!-- endbuild -->
    <!-- build:css(.tmp) styles/main.css -->
    
    <!-- link rel="stylesheet" href="js/jquery-mobile/jquery.mobile-1.4.5.min.css" -->
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="bootstrap/css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="bootstrap/css/bootstrap.min.css">
    
    <!-- fullPage.js plugin -->
    <!-- link rel="stylesheet" type="text/css" href="js/fullPage.js/jquery.fullPage.css" / -->
      
    <!-- endbuild -->
  </head>
  <body ng-app="projetoOiApp" 
        data-spy="scroll" 
        data-target="#navbar-dashboard">
    <!--[if lte IE 8]>
      <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]-->
    
    <div class="container-fluid">
        <div class="row"> 
            <!-- side bar -->
            <div class="col-xs-12 col-sm-12 col-md-2 col-lg-2 sidebar sidebar-home">
                <!-- oi logo -->
                <div class="col-xs-9 col-sm-9 col-md-1 col-lg-1 logo-container">
                    <img class="home_logo" src="svg/oi_logo.svg" />
                </div>
                <div class="col-xs-3 col-sm-3 col-md-1 col-lg-1 exit_text">
                    Sair
                </div>
            </div>
            
            <!-- menu scrollable -->
            <div class="col-xs-12 col-sm-12 col-md-2 col-lg-2 sidebar sidebar-home sidebar-menu scrollable-menu">
                <!-- oi logo -->
                <div id="navbar-dashboard" class="col-xs-6 col-sm-12 col-md-12">
                    <ul class="nav nav-tabs nav-stacked">
                        <div class="section section-menu">
                            <!-- selected item -->
                            <div class="selected"></div>
                            
                            <!-- start  item -->
                            <li class="start" role="presentation">
                                <a href="#start">
                                    <div class="start">
                                        <div class="slide menu-item">
                                            <div class="menu-item-align">
                                                <img class="menu-img" src="svg/home.svg" />
                                                <div class="menu-item-text">INICÍO</div>
                                            </div>
                                        </div>
                                    </div>
                                </a>
                            </li>
                            <li class="telephone" role="presentation">
                                <a href="#telephone">
                                    <div class="telephone">
                                        <div class="slide menu-item">
                                            <div class="menu-item-align">
                                                <img class="menu-img" src="svg/telephone.svg" />
                                                <div class="menu-item-text">FIXO</div>
                                            </div>
                                        </div>
                                    </div>
                                </a>
                            </li>
                            <li class="wifi" role="presentation">
                                <a href="#wifi">
                                    <div class="wifi">
                                        <div class="slide menu-item">
                                            <div class="menu-item-align">
                                                <img class="menu-img" src="svg/wifi.svg" />
                                                <div class="menu-item-text">OI WIFI</div>
                                            </div>
                                        </div>
                                    </div>
                                </a>
                            </li>
                            <li class="oiplay" role="presentation">
                                <a href="#oiplay">
                                    <div class="oiplay">
                                        <div class="slide menu-item">
                                            <div class="menu-item-align">
                                                <img class="menu-img" src="svg/oiplay.svg" />
                                                <div class="menu-item-text">OI PLAY</div>
                                            </div>
                                        </div>
                                    </div>
                                </a>
                            </li>
                            <li class="recharge" role="presentation">
                                <a href="#recharge">
                                    <div class="recharge">
                                        <div class="slide menu-item">
                                            <div class="menu-item-align">
                                                <img class="menu-img" src="svg/recharge.svg" />
                                                <div class="menu-item-text">RECARGA</div>
                                            </div>
                                        </div>
                                    </div>
                                </a>
                            </li>
                            <li class="help" role="presentation">
                                <a href="#help">
                                    <div class="help">
                                        <div class="slide menu-item">
                                            <div class="menu-item-align">
                                                <img class="menu-img" src="svg/asks.svg" />
                                                <div class="menu-item-text">DÚVIDAS FREQUENTES</div>
                                            </div>
                                        </div>
                                    </div>
                                </a>
                            </li>
                        </div>
                    </ul>
                </div><!-- end oi logo -->
            </div>
            <!-- end menu -->
            
            <!-- content -->
            <div class="col-xs-12 col-sm-12 col-md-8 col-lg-8">
                <div id="fullpage">
                    <!-- start -->
                    <div class="section start">
                        <div class="title">Oi, Washington</div>
                        <div class="content">
                            <p>Seu novo serviço ainda não está cadastrado no sistema.</p>

                            <p>Em breve, você terá acesso online a todos os serviços e facilidades da Minha Oi. Aproveite enquanto isso pra tirar suas dúvidas e descubra como a Oi pode te deixar mais conectado.</p> 
                        </div>
                        <!-- //NOTE: slide test -->
                        <!-- div class="slide">
                            <div class="title">Oi, Washington</div>
                            <div class="content">
                                <p>Seu novo serviço ainda não está cadastrado no sistema.</p>

                                <p>Em breve, você terá acesso online a todos os serviços e facilidades da Minha Oi. Aproveite enquanto isso pra tirar suas dúvidas e descubra como a Oi pode te deixar mais conectado.</p> 
                            </div>
                        </div -->
                    </div>
                    
                    <!-- oi fixo -->
                    <div class="section telephone">
                        <div class="title">Fixo</div>
                        <div class="content">
                            <p>Contratou um novo Fixo da Oi?  Então agora é só aguardar a sua instalação.</p>

                            <p>Siga o passo a passo da sua visita técnica pra começar a falar ilimitado com qualquer Oi.</p>
                        </div>
                        <button class="btn_installation btn_hover_dash">Acompanhe a Instalação</button>
                    </div>
                    
                    <!-- wifi -->
                    <div class="section wifi">
                        <div class="title">Oi WiFi</div>
                        <div class="content">
                            <p>Busque o hotspot mais perto de você pra se conectar em alta velocidade gratuitamente, sem consumir sua franquia de internet móvel ou celular.</p>

                            <p>São mais de 2 milhões de pontos de acesso em todo o Brasil, entre aeroportos, hotéis, restaurantes, shoppings, cafés e outros locais. É só se cadastrar e aproveitar.</p>
                        </div>
                        <button class="btn_connection btn_hover_dash">Conectar-se</button>
                        <div class="footer">
                            <p>Pra acessar do seu tablet ou smartphone, você pode também baixar o aplicativo mobile nos sistemas Android e iOS.</p>
                        </div>
                    </div>
                    
                    <!-- oiplay -->
                    <div class="section oiplay">
                        <div class="title">Oi Play</div>
                        <div class="content">
                            <p>Clientes TV HD podem assistir ao melhor do nosso conteúdo no Oi Play.</p>

                            <p>Quando e onde quiser, direto do seu computador, tablet ou smartphone, podendo acessar de mais de um dispositivo ao mesmo tempo. Divirta-se!</p>
                        </div>
                        <button class="btn_oiplay btn_hover_dash">Conheça o Oi Play</button>
                        <div class="footer">
                            <p>Entre com seu login da Minha Oi.</p>
                        </div>
                    
                    </div>
                    
                    <!-- recharge -->
                    <div class="section recharge">
                        <div class="title">Recarga</div>
                        <div class="content">
                            <p>Recarregue qualquer celular Pré, Controle ou Oi Galera em instantes. Os valores são a partir de R$ 12 e você pode ganhar até 1 GB pra navegar à vontade.</p>

                            <p>É rápido, fácil e seguro. 
                            Aproveite também para programar próximas recargas.</p>
                        </div>
                        <button class="btn_recharge btn_hover_dash">Recarregue agora</button>
                        <div class="footer">
                            <p>Pague com cartão de crédito Visa, Mastercard, Hipercard, Elo ou Diners.</p>
                        </div>
                    
                    </div>
                    
                    <!-- faq -->
                    <div class="section help">
                        <div class="title">Dúvidas frequentes</div>
                        
                        <div class=content>
                            <ol type="1">
                                
                                <!-- each item on ol list -->
                                <div class="item">
                                    <li class="arrow_item_help custom-li help_item_center collapsed" data-toggle="collapse" data-target="#item1">O que é a Minha Oi? 
                                    </li>
                                    <div class="arrow_item_help help_item_center img_container_help">
                                        <!-- img src="svg/arrow_down.svg"  / -->
                                    </div>

                                    <div id="item1" class="collapse">
                                        É a área de atendimento online da Oi. Nela, você consegue visualizar os seus produtos e se relacionar com a Oi pela internet de forma simples e fácil.
                                        Na Minha Oi, você acessa seu saldo, retira a 2ª via da conta, aproveita para se cadastrar na Conta Online ou no Débito Automático e encontrar todos os serviços da Oi em um só lugar.
                                    </div>
                                </div>
                                
                                <div class="item">
                                    <li class="arrow_item_help custom-li help_item_center collapsed" data-toggle="collapse" data-target="#item2">Quais são os principais serviços da Minha Oi?</li>
                                    
                                    <div class="arrow_item_help help_item_center img_container_help">
                                        <!-- img src="svg/arrow_down.svg"  / -->
                                    </div>

                                    <div id="item2" class="collapse">
                                        Lorem ipsum dolor text....
                                    </div>
                                </div>
                                
                                <div class="item">
                                    <li class="arrow_item_help custom-li help_item_center collapsed" data-toggle="collapse" data-target="#item3">Posso acessar a Minha Oi através do celular?</li>
                                    
                                    <div class="arrow_item_help help_item_center img_container_help">
                                        <!-- img src="svg/arrow_down.svg"  / -->
                                    </div>

                                    <div id="item3" class="collapse">
                                        Lorem ipsum dolor text....
                                    </div>
                                </div>
                                
                                <div class="item">
                                    <li class="arrow_item_help custom-li help_item_center collapsed" data-toggle="collapse" data-target="#item4">Consigo usar a Minha Oi em qualquer navegador?</li>
                                    
                                    <div class="arrow_item_help help_item_center img_container_help">
                                        <!-- img src="svg/arrow_down.svg"  / -->
                                    </div>

                                    <div id="item4" class="collapse">
                                        Lorem ipsum dolor text....
                                    </div>
                                </div>
                                
                                <div class="item">
                                    <li class="arrow_item_help custom-li help_item_center collapsed" data-toggle="collapse" data-target="#item5">O que devo fazer se eu esquecer a minha senha?</li>
                                    
                                    <div class="arrow_item_help help_item_center img_container_help">
                                        <!-- img src="svg/arrow_down.svg"  / -->
                                    </div>

                                    <div id="item5" class="collapse">
                                        Lorem ipsum dolor text....
                                    </div>
                                </div>
                                
                                <div class="item">
                                    <li class="arrow_item_help custom-li help_item_center collapsed" data-toggle="collapse" data-target="#item6">
                                        O que é a Minha Oi?</li>
                                    
                                    <div class="arrow_item_help help_item_center img_container_help">
                                        <!-- img src="svg/arrow_down.svg"  / -->
                                    </div>

                                    <div id="item6" class="collapse">
                                        Lorem ipsum dolor text....
                                    </div>
                                </div>
                                
                                <div class="item">
                                    <li class="arrow_item_help custom-li help_item_center collapsed" data-toggle="collapse" data-target="#item7">Adquiri um novo produto Oi, como o incluo na Minha Oi?</li>
                                    
                                    <div class="arrow_item_help help_item_center img_container_help">
                                        <!-- img src="svg/arrow_down.svg"  / -->
                                    </div>

                                    <div id="item7" class="collapse">
                                        Lorem ipsum dolor text....
                                    </div>
                                </div>
                                
                                <div class="item">
                                    <li class="arrow_item_help custom-li help_item_center collapsed" data-toggle="collapse" data-target="#item8">Como falo com a Oi?</li>
                                    
                                    <div class="arrow_item_help help_item_center img_container_help">
                                        <!-- img src="svg/arrow_down.svg"  / -->
                                    </div>

                                    <div id="item8" class="collapse">
                                        Lorem ipsum dolor text....
                                    </div>
                                </div>
                                
                                <div class="item">
                                    <li class="arrow_item_help custom-li help_item_center collapsed" data-toggle="collapse" data-target="#item9">Como encontro o endereço de uma Loja Oi?</li>
                                    
                                    <div class="arrow_item_help help_item_center img_container_help">
                                        <!-- img src="svg/arrow_down.svg"  / -->
                                    </div>

                                    <div id="item9" class="collapse">
                                        Lorem ipsum dolor text....
                                    </div>
                                </div>
                                
                                <div class="item">
                                    <li class="arrow_item_help custom-li help_item_center collapsed" data-toggle="collapse" data-target="#item10">Pessoa Jurídica também pode se cadastrar na Minha Oi?</li>
                                    
                                    <div class="arrow_item_help help_item_center img_container_help">
                                        <!-- img src="svg/arrow_down.svg"  / -->
                                    </div>

                                    <div id="item10" class="collapse">
                                        Lorem ipsum dolor text....
                                    </div>
                                </div>
                            </ol>
                        </div>
                    
                        
                        <div class="footer">
                            Não encontrou a sua dúvida? Acesse a página de <span>FAQ</span> da Minha Oi.
                        </div>
                    </div>
                    <!-- end faq -->
                </div>
            </div>
        </div>
    
    </div>


    

    <!-- build:js(.) scripts/vendor.js -->
    <!-- bower:js -->
    <!-- endbower -->
    <!-- endbuild -->

    <!-- script src="js/jquery-3.1.1.min.js"></script -->
    <script src="js/jquery-2.x.x.min.js"></script>
    <script src="bootstrap/js/bootstrap.min.js"></script>
    <script src="js/jquery.scrollTo.min.js"></script>
    <script src="js/jquery-scrollspy.js"></script>
    <script src="js/fullPage.js/jquery.fullPage.js"></script>
    <script src="js/jquery-mobile.js"></script>
    <!-- build:js({.tmp,app}) scripts/scripts.js -->
    <!-- script src="scripts/app.js"></script>
    <script src="scripts/controllers/main.js"></script>
    <script src="scripts/controllers/about.js"></script -->
        
      
    <script>
        
        //todo: remove all display: flex
        //todo: try use jquery swipe to slide the page
        //todo: try other approachs
        //todo: test if is mobile and if it is not mobile dont swipe to left or right
        //todo: on resize or page reload, change the position to selected item
        
        //test if mobile device
        isMobile = function(){
            if( /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i
               .test(navigator.userAgent) ) {
                return true;
            }
            
            return false;
        }
        
        
        /*
        Focus on the position of marker accordily scroll direction
        */
        function focusMarkerPosition(direction , elName){
            
            var value = (direction === 'horizontal') ? 
                $(window).width() : $(window).height();
            
            if(direction === 'horizontal'){
                $('.scrollable-menu')
                        .css('cssText', 'overflow-x: scroll !important');
                $('.scrollable-menu')
                        .css('cssText', 'overflow-y: hidden !important');
            } else {
                $('.scrollable-menu')
                        .css('cssText', 'overflow-x: hidden !important');
                $('.scrollable-menu')
                        .css('cssText', 'overflow-y: scroll !important');
            }
            
            var axis = (direction === 'horizontal') ? 'x' : 'y';
            
            //.start, .telephone, .wifi, .oiplay, .recharge, .help
            if(elName.indexOf('start') !== -1 || elName.indexOf('help') !== -1){
                $('.scrollable-menu').scrollTo('.' + elName , 300 , {axis : axis});
            }
            else if(elName.indexOf('telephone') !== -1){
                $('.scrollable-menu').scrollTo(value/7, 300 , {axis : axis});
            }
            else if(elName.indexOf('wifi') !== -1){
                $('.scrollable-menu').scrollTo(value/4, 300 , {axis : axis});
            }
            else if(elName.indexOf('oiplay') !== -1){
                $('.scrollable-menu').scrollTo(value/3, 300 , {axis : axis});
            }
            else if(elName.indexOf('recharge') !== -1){
                $('.scrollable-menu').scrollTo(value, 300 , {axis : axis});
            }
        }
        
        //get a index of element based on your classList
        function getIndex(el){
            if(el.hasClass('start')){
                return 0
            }
            else if(el.hasClass('telephone')){
                return 1
            }
            else if(el.hasClass('wifi')){
                return 2
            }
            else if(el.hasClass('oiplay')){
                return 3
            }
            else if(el.hasClass('recharge')){
                return 4
            }
            else if(el.hasClass('help')){
                return 5
            }
        }
        
        //get string to query on selected item to swipe
        //'.start' , '.telephone' , '.wifi' , '.oiplay' , '.recharge', '.help'
        function getStringQueryToSwipe(){
            return '#fullpage > .start,' +
                    '#fullpage > .telephone,' +
                    '#fullpage > .wifi,' +
                    '#fullpage > .oiplay,' +
                    '#fullpage > .recharge,' +
                    '#fullpage > .help';
        }
        
        /* change the position of marker */
        var changeMarkerPosition = function(direction , elName){
            var el = $('li.' + elName)
            var position = $(el).position()
            
            if(position){
                //horizontal scroll
                if(direction === 'horizontal'){
                    $('.selected')
                        .stop()
                        .animate({
                            left: position.left
                        } 
                    , 100)  
                } 
                else { //vertical scroll
                    $('.selected')
                        .stop()
                        .animate({
                            top: position.top
                        } 
                    , 100)
                }
            }
        }
        
        //search inside path per the correct target
        //path is a array of node elements
        findInsidePath = function(path){
            return $(path).find('.section.active');
        }

        removeActive = function(path){
            $(path).find('.section.active').removeClass('active');
        }

        setActive = function(el){
            $(el).addClass('active');
        }
        
        /* drag and move events, uses a polyfill */
        function moveAndDragPage(){
            if(isMobile()){
                console.log(`is mobile, so append event`);
            }
            
            var xDown = null;                                                        
            var yDown = null;
            //get the screensize
            var containerWidth = $(window).width();
            
            //FIXME: try swipe to next page
            //FIXME: dont work in mobile
            //TODO: get the parent and your class, eg: start, help, etc.
            
            //the element class list
            var elementList = ['.start' , '.telephone' , '.wifi' , '.oiplay' , '.recharge', '.help' ]
            
            
            /* test swipe event in android and other mobile devices */
            $(getStringQueryToSwipe()).on('touchstart', function(evt){
                xDown = evt.originalEvent.touches[0].pageX;                                    
                yDown = evt.originalEvent.touches[0].pageY;
            })  
            
            //document.addEventListener('touchmove', function(){console.log('touch move')}, false);
            
            document.addEventListener('touchmove', function(evt){
                //console.dir('inside touchmove')
                if ( ! xDown || ! yDown ) {
                    return;
                }

                var xUp = evt.touches[0].clientX;                                    
                var yUp = evt.touches[0].clientY;

                var xDiff = xDown - xUp;
                var yDiff = yDown - yUp;

                if ( Math.abs( xDiff ) > Math.abs( yDiff ) ) {
                    if ( xDiff > 0 ) {
                        /* left swipe */
                        if(containerWidth < 768){
                            //get target index
                            var index = getIndex(findInsidePath($(evt.path)))

                            //scroll to next target
                            if(index < 5){
                                var nextEl = elementList[index + 1];
                                $("#fullpage").scrollTo(nextEl , 300)

                                //NOTE: Test horizontal slider
                                //$.fn.fullpage.moveSlideLeft();
                                focusMarkerPosition('horizontal' , nextEl.substring(1))
                                changeMarkerPosition('horizontal' , nextEl.substring(1))
                                removeActive($(evt.path));
                                setActive($('.section.' +  nextEl.substring(1)));
                            }
                        }
                    } else {
                        /* right swipe */
                        if(containerWidth < 768){
                            //get target index
                            var index = getIndex(findInsidePath($(evt.path)))

                            //scroll to next target
                            if(index > 0){
                                var nextEl = elementList[index - 1];
                                $("#fullpage").scrollTo(nextEl , 300)

                                //NOTE: Test horizontal slider
                                //$.fn.fullpage.moveSlideRight();
                                focusMarkerPosition('horizontal' , nextEl.substring(1))
                                changeMarkerPosition('horizontal' , nextEl.substring(1))
                                removeActive($(evt.path));
                                setActive($('.section.' +  nextEl.substring(1)));
                            }
                        }
                    }                       
                } else {
                    if ( yDiff > 0 ) {
                        /* up swipe */ 
                    } else { 
                        /* down swipe */
                    }                                                                 
                }
                /* reset values */
                xDown = null;
                yDown = null; 
            }, false);                                   
            /* end test */
  
            
            
            //move to next item
            /*$(getStringQueryToSwipe()).on("swipeleft",function(event){
                
                console.log('swipe left')
                
                if(containerWidth < 768){
                    //get target index
                    var index = getIndex($(event.currentTarget))

                    //scroll to next target
                    if(index < 5){
                        var nextEl = elementList[index + 1];
                        $("#fullpage").scrollTo(nextEl , 300)
                        
                        //NOTE: Test horizontal slider
                        //$.fn.fullpage.moveSlideLeft();
                        focusMarkerPosition('horizontal' , nextEl.substring(1))
                        changeMarkerPosition('horizontal' , nextEl.substring(1))
                    }
                }
            });
            
            ///move to previus item
            $(getStringQueryToSwipe()).on("swiperight",function(event){
                
                console.log('swipe right')
                
                if(containerWidth < 768){
                    //get target index
                    var index = getIndex($(event.currentTarget))

                    //scroll to next target
                    if(index > 0){
                        var nextEl = elementList[index - 1];
                        $("#fullpage").scrollTo(nextEl , 300)
                        
                        //NOTE: Test horizontal slider
                        //$.fn.fullpage.moveSlideRight();
                        focusMarkerPosition('horizontal' , nextEl.substring(1))
                        changeMarkerPosition('horizontal' , nextEl.substring(1))
                    }
                }
            });  */
        }
        
        //move to current path after redraw or reload page
        moveToCurrentPath = function(){
             //get the current location
            var path = $(location).attr('href') , orientation = '';

            
            //get the direction
            var containerWidth = $(window).width();
            
            //NOTE: changed to 768, before 1200
            if(containerWidth >= 768){
                orientation = 'vertical'
            }
            else {
                orientation = 'horizontal'
            }
            
            //.start, .telephone, .wifi, .oiplay, .recharge, .help
            if(path.indexOf('#start') !== -1){
                focusMarkerPosition(orientation , 'start')
                changeMarkerPosition(orientation , 'start')
                if(orientation == 'horizontal') $('#fullpage').scrollTo('.start', 0 , {axis : 'x'} )
            }
            else if(path.indexOf('#telephone') !== -1){
                focusMarkerPosition(orientation , 'telephone')
                changeMarkerPosition(orientation , 'telephone')
                if(orientation == 'horizontal') $('#fullpage').scrollTo('.telephone', 0 , {axis : 'x'} )
            }
            else if(path.indexOf('#wifi') !== -1){
                focusMarkerPosition(orientation , 'wifi')
                changeMarkerPosition(orientation , 'wifi')
                if(orientation == 'horizontal') $('#fullpage').scrollTo('.wifi', 0 , {axis : 'x'} )
            }
            else if(path.indexOf('#oiplay') !== -1){
               focusMarkerPosition(orientation , 'oiplay')
               changeMarkerPosition(orientation , 'oiplay')
               if(orientation == 'horizontal') $('#fullpage').scrollTo('.oiplay', 0 , {axis : 'x'} )
            }
            else if(path.indexOf('#recharge') !== -1){
                focusMarkerPosition(orientation , 'recharge')
                changeMarkerPosition(orientation , 'recharge')
                if(orientation == 'horizontal') $('#fullpage').scrollTo('.recharge', 0 , {axis : 'x'} )
            }
            else if(path.indexOf('#help') !== -1 ){
                focusMarkerPosition(orientation , 'help')
                changeMarkerPosition(orientation , 'help')
                if(orientation == 'horizontal') $('#fullpage').scrollTo('.help', 0 , {axis : 'x'} )
            }
            else { //the path is default page
                focusMarkerPosition(orientation , 'start')
                changeMarkerPosition(orientation , 'start')
                if(orientation == 'horizontal') $('#fullpage').scrollTo('.start', 0 , {axis : 'x'} )
            }
        }
        
        
        //TODO: bind mobile event in page load
        $(document).on('pageinit', function(event){
           /*$("#listitem").swiperight(function() {
                $.mobile.changePage("#page1");
            });*/
            
            console.log('bind event test');
            
            window.getSelection().removeAllRanges(); 
            
            $.event.special.swipe.durationThreshold = 100;
            
            //bind swipe event
            moveAndDragPage()
        });
        

        $(document).ready(function(){
            
            //window.getSelection().removeAllRanges(); 
            
            //$.event.special.swipe.durationThreshold = 100;
            
            curDown = false,
            curYPos = 0,
            curXPos = 0;
            
            //start swipe events
            //moveAndDragPage()
            
            //move to current path after redraw or reload page
            //moveToCurrentPath()
            
        
            
            //NOTE: Test
            function  scrollEnd(callback){
                clearTimeout($.data(this, 'scrollTimer'));
                $.data(this, 'scrollTimer', setTimeout(function() {
                    // do something
                    //console.log("Haven't scrolled in 250ms!");
                    
                    if(callback) callback();
                }, 250));
            }
            
            //starts fullpage plugin
            $('#fullpage').fullpage({
                anchors:
                    ['start', 
                     'telephone', 
                     'wifi',
                     'oiplay', 
                     'recharge', 
                     'help'],
                verticalCentered : true,
                normalScrollElements: '.menu-item, .help, .help > .fp-tableCell' , //exclude itens
                bigSectionsDestination : '#fullpage',
                onLeave: function(index, nextIndex, direction){
                    
                },
                //add after load event
                //using anchorLink to scroll to new position
                afterLoad: function(anchorLink, index){
                    
                    var containerWidth = $(window).width();
                    
                    
                    //small screens
                    //changed to 768, before 1200
                    if(containerWidth < 768){
                        changeMarkerPosition('horizontal' , anchorLink)
                        focusMarkerPosition('horizontal' , anchorLink);
                    } else {
                        changeMarkerPosition('vertical' , anchorLink);
                        focusMarkerPosition('vertical' , anchorLink);
                    }
                    
                }
            });
            
            //FIXME : Try disable responsive
            //$.fn.fullpage.setResponsive(true);
            
            //the scroll spy
            //$('body').scrollspy({ target: '#navbar-dashboard' })
            //disabling scrolling
            //$.fn.fullpage.setAllowScrolling(false);
            //$.fn.fullpage.setFitToSection(true);
            //$.fn.fullpage.setAutoScrolling(false);
            //console.dir($)
            
            $(window).resize(function(){
                
                //current size of window
                var containerWidth = $(window).width();
                
                
                //move to current path after redraw or reload page
                moveToCurrentPath()
                
                //change the position of the element "selected"
                $('.selected')
                                .css({position : 'absolute'})
                
                //changed to 768, before is 1200
                if(containerWidth < 768){
                    //FIXME:
                    //$.fn.fullpage.destroy();
                    $('.active').ready(function(){
                        var el = $('.active')
                        
                        if(el && $(el).position()){
                            var left = $(el).position().left
                        

                            $('.selected').css({
                                left: left
                            });
                        }
                    })
                } else {
                    //FIXME
                    //$.fn.fullpage.reBuild();
                    $('.active').ready(function(){
                        var el = $('.active')
                        
                        if(el && $(el).position()){
                            var top = $(el).position().top
                        

                            $('.selected')
                                .css('cssText', 'left: calc(100% - 6px) !important');

                            console.log(top)
                            $('.selected').css({
                                top: top
                            });
                        }
                    })
                }

            });
            
            $('.section-menu').children('li').each(function(index, el){

                //$(el).off('click'); //remove listener after resize


                //bind click
                $(el).click(function(event){
                    
                    var name = this.className;
                    var self = this , containerWidth;
                    
                    containerWidth = $(window).width();

                    console.log(name);
                    
                    $.fn.fullpage.moveTo(name);

                    //unselect all li
                    $('.section-menu')
                        .children('li')
                        .removeClass('active');

                    //set this el as active
                    $(self).addClass('active');


                    //windows size
                    var el = $('#fullpage >.section.' + name);
                    
                    //if containerWidth > 1200 scroll is vertical, otherwise, is horizontal
                    //changed to 768, before is 1200
                    if(containerWidth > 768){
                        
                        /* change position of marker */
                        changeMarkerPosition('vertical' , name);
                        
                        /* change position scroll  */
                        focusMarkerPosition('vertical' , name);
                        
                        event.preventDefault();
                    } else { 

                        //change position of selected
                        $('.selected').css({position : 'absolute'})
                        
                        
                        //NOTE: The fullpage.js dont work in horizontal navigation drag and move
                        //scroll to element on page 
                        $('#fullpage').scrollTo('.' + name , 300 , {axis : 'x'} );
                        
                        /* change position of marker */
                        changeMarkerPosition('horizontal' , name);
                        
                        /* change position scroll  */
                        focusMarkerPosition('horizontal' , name);
                        
                        event.preventDefault();
                    }
                })
            })
            
            //FIXME: Try stop scroll propagation
            $('#fullpage').scroll(function(event){
                //try fix scroll on menu
                event.stopPropagation();
            })
            
            $('.scrollable-menu').scroll(function(event){
                event.stopPropagation();
                event.preventDefault();
                
                //disable scroll
                //$.fn.fullpage.setAutoScrolling(false);
                //$.fn.fullpage.setAllowScrolling(false);
                
                
                //console.log("scroll")
                //disable scroll on fullpage
                /*$('#fullpage').css({
                    overflow: 'hidden !important',
                    height: '100%'
                });*/
                
                //detect scroll stop and enable scroll
                scrollEnd(
                    function(){ 
                        //$.fn.fullpage.setAutoScrolling(true);
                        //$.fn.fullpage.setAllowScrolling(true); 
                    }
                )//end scrollEnd
                
            })
             
        })  //end jquery ready method
    </script>
    <!-- endbuild -->
</body>
</html>
